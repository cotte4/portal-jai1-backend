# ===========================================
# Portal JAI1 Backend - Environment Variables
# ===========================================

# Database (Supabase PostgreSQL)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# Supabase
SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-key

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-min-32-characters

# Token Expiration Settings (format: <number><unit> where unit is s/m/h/d)
# Access token expiration (default: 15m)
JWT_ACCESS_EXPIRY=15m
# Access token expiration with "Remember Me" (default: 7d)
JWT_ACCESS_EXPIRY_REMEMBER=7d
# Refresh token expiration (default: 7d)
JWT_REFRESH_EXPIRY=7d
# Refresh token expiration with "Remember Me" (default: 30d)
JWT_REFRESH_EXPIRY_REMEMBER=30d
# OAuth authorization code TTL (default: 5m)
OAUTH_CODE_TTL=5m

# Email (Resend)
EMAIL_PROVIDER=resend
RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=notificaciones@portaljai1.com

# Encryption (for SSN, addresses, passwords)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-encryption-key-for-aes-256

# Webhooks (Make/Integromat)
MAKE_API_KEY=your-make-webhook-api-key

# Sentry (Error Monitoring)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# n8n Chatbot Webhook
N8N_WEBHOOK_URL=http://localhost:5678/webhook/jai-chatbot

# OpenAI (for RAG embeddings)
OPENAI_API_KEY=sk-your-openai-api-key

# Application
PORT=3000
NODE_ENV=development
FRONTEND_URL=http://localhost:4200

# ===========================================
# Storage Cleanup (Orphan File Detection)
# ===========================================
# Set to 'false' to disable automatic daily cleanup at 4 AM
STORAGE_CLEANUP_ENABLED=true

# ===========================================
# Production values example:
# ===========================================
# PORT=3000
# NODE_ENV=production
# FRONTEND_URL=https://portaljai1.com
